*апдейт*


в данный момент до 200к числа все проходит быстро и точно
больше 200к s начинает иногда переполняться
цель: либо сменить алгоритм на более низкий (макс. число следует довести до 1 млн), либо оставить и так или подкрутить значения
1 000 000 ^ 3 = максимальное значение





0 - 21 - успех
22+ - переполнение

создание подписи и проверка проходят верно.


Условие: письмо должно быть меньше, чем n
m < n


Два решения проблем:

1. Разбивать исходное сообщение на части, численно равные промежутку от 1 до n (1 n)


2. Как либо упростить выражение m^d mod n, чтобы небыло переполнений

если m = 55 а n = 30
то мы число 55 разбиваем на 2 части

55 = 27 + 28

s = 16, 3

при проверке:

16 -> 27
3 -> 28
складываем
оп


пробуем применить подход 2:

подход немного заменен
теперь мы возводим hashCode в куб максимум
т.е. m^3 < 2^63
mmax = 2^20 = 10^6



по факту разбиваем m так, чтобы m1,m2,m3 < n и m1,m2,m3 < maxM

k := 2;
пока m(max) > maxM:
	разбиваем m на k почти равных частей
	k++
	
если так, то создаем все, кроме подписей

затем создаем массив, куда помещаем подписи каждой части
это безопасно, т.к. это тоже самое, как если бы был m меньший


при расшифровке проверяем массив на nil
если он nil, то берем s 	
	
	


разбиение на k частей:
	делим m на k
	затем прибавляем к получившемуся Random(20) - 10
	к след. тоже прибавляем Random(20) - 10
	вот последний будет равен m - sum(m1,m2,mn-1)


n должен быть порядка m(max) * 10, никак не меньше
в идеале в промежутке от m(max)*10 до m(max)*100

тогда p и q должны быть:
	p^2  от m(max)*10 до m(max)*100
	q примерно также
	
вот по такому критерию и сравним	

	p от 3.3 * m^(1/2) до 10 m^(1/2)
	
	

21 и 	
	

	
1000 -> 10 -> 1000

*исправлено*
24.04 Короче, главное правильно сделать значения n, e, и d. Для этого нужны правильные p,q, eiler
Где то там существует проблема(не всегда работает)
+ при малых запросных значениях p и q уходят в минус.


при сравнениях для 125 только 1 вариант из простых чисел дал нормальный результат
19;31
все остальные провалились

тестируем определенные значения функций для всего диапазона
p = 31 q = 19 n = 589 eiler = 540


корень из 9223372036854775806 = 3037000499
корень из 3037000499 = 55108


*решено*
longPow возводит неправильно
Возведение в степень по модулю
c == b^e (mod 13)

